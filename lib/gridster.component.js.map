{"version":3,"file":"gridster.component.js","sourceRoot":"","sources":["../../../../../../projects/angular2gridster/src/lib/gridster.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n    Component, OnInit, AfterContentInit, OnDestroy, ElementRef, ViewChild, NgZone,\r\n    Input, Output, EventEmitter, ChangeDetectionStrategy, HostBinding, ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Observable, Subscription, ConnectableObservable } from 'rxjs';\r\nimport { debounceTime, filter, publish } from 'rxjs/operators';\r\n\r\nimport { utils } from './utils/utils';\r\nimport { GridsterService } from './gridster.service';\r\nimport { IGridsterOptions } from './IGridsterOptions';\r\nimport { IGridsterDraggableOptions } from './IGridsterDraggableOptions';\r\nimport { GridsterPrototypeService } from './gridster-prototype/gridster-prototype.service';\r\nimport { GridsterItemPrototypeDirective } from './gridster-prototype/gridster-item-prototype.directive';\r\nimport { GridListItem } from './gridList/GridListItem';\r\nimport { GridsterOptions } from './GridsterOptions';\r\n\r\n\r\n@Component({\r\n    selector: 'ngx-gridster',\r\n    template: `<div class=\"gridster-container\">\r\n      <canvas class=\"gridster-background-grid\" #backgroundGrid></canvas>\r\n      <ng-content></ng-content>\r\n      <div class=\"position-highlight\" style=\"display:none;\" #positionHighlight>\r\n        <div class=\"inner\"></div>\r\n      </div>\r\n    </div>`,\r\n    styles: [`\r\n    ngx-gridster {\r\n        position: relative;\r\n        display: block;\r\n        left: 0;\r\n        width: 100%;\r\n    }\r\n\r\n    ngx-gridster.gridster--dragging {\r\n        -moz-user-select: none;\r\n        -khtml-user-select: none;\r\n        -webkit-user-select: none;\r\n        -ms-user-select: none;\r\n        user-select: none;\r\n    }\r\n\r\n    ngx-gridster .gridster-container {\r\n        position: relative;\r\n        width: 100%;\r\n        list-style: none;\r\n        -webkit-transition: width 0.2s, height 0.2s;\r\n        transition: width 0.2s, height 0.2s;\r\n    }\r\n\r\n    ngx-gridster .position-highlight {\r\n        display: block;\r\n        position: absolute;\r\n        z-index: 1;\r\n    }\r\n\r\n    ngx-gridster .gridster-background-grid {\r\n        z-index: 0;\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%\r\n    }\r\n    `],\r\n    providers: [GridsterService],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class GridsterComponent implements OnInit, AfterContentInit, OnDestroy {\r\n    @Input() public options: IGridsterOptions;\r\n    @Output() public optionsChange = new EventEmitter<any>();\r\n    @Output() public ready = new EventEmitter<any>();\r\n    @Output() public reflow = new EventEmitter<any>();\r\n    @Output() public prototypeDrop = new EventEmitter<{item: GridListItem}>();\r\n    @Output() public prototypeEnter = new EventEmitter<{item: GridListItem}>();\r\n    @Output() public prototypeOut = new EventEmitter<{item: GridListItem}>();\r\n    @Input() public draggableOptions: IGridsterDraggableOptions;\r\n    @Input() public parent: GridsterComponent;\r\n\r\n    @ViewChild('positionHighlight') public $positionHighlight: any;\r\n    @ViewChild('backgroundGrid') public $backgroundGrid: any;\r\n    @HostBinding('class.gridster--dragging') public isDragging = false;\r\n    @HostBinding('class.gridster--resizing') public isResizing = false;\r\n\r\n    @HostBinding('class.gridster--ready') public isReady = false;\r\n    public gridster: GridsterService;\r\n    public $element: HTMLElement;\r\n\r\n    public gridsterOptions: GridsterOptions;\r\n    public isPrototypeEntered = false;\r\n    private isDisabled = false;\r\n    private subscription = new Subscription();\r\n\r\n    constructor(private zone: NgZone,\r\n                elementRef: ElementRef, gridster: GridsterService,\r\n                private gridsterPrototype: GridsterPrototypeService) {\r\n\r\n        this.gridster = gridster;\r\n        this.$element = elementRef.nativeElement;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.gridsterOptions = new GridsterOptions(this.options);\r\n\r\n        if (this.options.useCSSTransforms) {\r\n            this.$element.classList.add('css-transform');\r\n        }\r\n\r\n        this.subscription.add(\r\n            this.gridsterOptions.change.subscribe(options => {\r\n                this.gridster.options = options;\r\n                if (this.gridster.gridList) {\r\n                    this.gridster.gridList.options = options;\r\n                }\r\n                this.optionsChange.emit(options);\r\n            })\r\n        );\r\n\r\n        this.gridster.init(this);\r\n\r\n        this.subscription.add(\r\n            Observable.fromEvent(window, 'resize').pipe(\r\n                debounceTime(this.gridster.options.responsiveDebounce || 0),\r\n                filter(() => this.gridster.options.responsiveView)\r\n            ).subscribe(() => this.reload())\r\n        );\r\n\r\n        this.zone.runOutsideAngular(() => {\r\n            this.subscription.add(\r\n                Observable.fromEvent(document, 'scroll', { passive: true }).subscribe(() => this.updateGridsterElementData())\r\n            );\r\n        });\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        this.gridster.start();\r\n\r\n        this.updateGridsterElementData();\r\n\r\n        this.connectGridsterPrototype();\r\n\r\n        this.gridster.$positionHighlight = this.$positionHighlight.nativeElement;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n\r\n    /**\r\n     * Change gridster config option and rebuild\r\n     * @param string name\r\n     * @param any value\r\n     * @return GridsterComponent\r\n     */\r\n    setOption(name: keyof IGridsterOptions, value: any) {\r\n        if (name === 'dragAndDrop') {\r\n            if (value) {\r\n                this.enableDraggable();\r\n            } else {\r\n                this.disableDraggable();\r\n            }\r\n        }\r\n        if (name === 'resizable') {\r\n            if (value) {\r\n                this.enableResizable();\r\n            } else {\r\n                this.disableResizable();\r\n            }\r\n        }\r\n        if (name === 'lanes') {\r\n            this.gridster.options.lanes = value;\r\n\r\n            this.gridster.gridList.fixItemsPositions(this.gridster.options);\r\n            this.reflowGridster();\r\n        }\r\n        if (name === 'direction') {\r\n            this.gridster.options.direction = value;\r\n            this.gridster.gridList.pullItemsToLeft();\r\n        }\r\n        if (name === 'widthHeightRatio') {\r\n            this.gridster.options.widthHeightRatio = parseFloat(value || 1);\r\n        }\r\n        if (name === 'responsiveView') {\r\n            this.gridster.options.responsiveView = !!value;\r\n        }\r\n        this.gridster.gridList.setOption(name, value);\r\n\r\n        return this;\r\n    }\r\n\r\n    reload() {\r\n        setTimeout(() => {\r\n            this.gridster.fixItemsPositions();\r\n            this.reflowGridster();\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    reflowGridster(isInit = false) {\r\n        this.gridster.reflow();\r\n        this.reflow.emit({\r\n            isInit: isInit,\r\n            gridsterComponent: this\r\n        });\r\n    }\r\n\r\n    updateGridsterElementData() {\r\n        this.gridster.gridsterScrollData = this.getScrollPositionFromParents(this.$element);\r\n        this.gridster.gridsterRect = this.$element.getBoundingClientRect();\r\n    }\r\n\r\n    setReady() {\r\n        setTimeout(() => this.isReady = true);\r\n        this.ready.emit();\r\n    }\r\n\r\n    adjustItemsHeightToContent(scrollableItemElementSelector: string = '.gridster-item-inner') {\r\n        this.gridster.items\r\n            // convert each item to object with information about content height and scroll height\r\n            .map((item: GridListItem) => {\r\n                const scrollEl = item.$element.querySelector(scrollableItemElementSelector);\r\n                const contentEl = scrollEl.lastElementChild;\r\n                const scrollElDistance = utils.getRelativeCoordinates(scrollEl, item.$element);\r\n                const scrollElRect = scrollEl.getBoundingClientRect();\r\n                const contentRect = contentEl.getBoundingClientRect();\r\n\r\n                return {\r\n                    item,\r\n                    contentHeight: contentRect.bottom - scrollElRect.top,\r\n                    scrollElDistance\r\n                };\r\n            })\r\n            // calculate required height in lanes amount and update item \"h\"\r\n            .forEach((data) => {\r\n                data.item.h = Math.ceil(\r\n                    <any>((data.contentHeight) / (this.gridster.cellHeight - data.scrollElDistance.top))\r\n                );\r\n            });\r\n\r\n        this.gridster.fixItemsPositions();\r\n        this.gridster.reflow();\r\n    }\r\n\r\n    disable(item: any) {\r\n        const itemIdx = this.gridster.items.indexOf(item.itemComponent);\r\n\r\n        this.isDisabled = true;\r\n        if (itemIdx >= 0) {\r\n            delete this.gridster.items[this.gridster.items.indexOf(item.itemComponent)];\r\n        }\r\n        this.gridster.onDragOut(item);\r\n    }\r\n\r\n    enable() {\r\n        this.isDisabled = false;\r\n    }\r\n\r\n    private getScrollPositionFromParents(element: Element, data = { scrollTop: 0, scrollLeft: 0 })\r\n        : { scrollTop: number, scrollLeft: number } {\r\n\r\n        if (element.parentElement && element.parentElement !== document.body) {\r\n            data.scrollTop += element.parentElement.scrollTop;\r\n            data.scrollLeft += element.parentElement.scrollLeft;\r\n\r\n            return this.getScrollPositionFromParents(element.parentElement, data);\r\n        }\r\n\r\n        return {\r\n            scrollTop: data.scrollTop,\r\n            scrollLeft: data.scrollLeft\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Connect gridster prototype item to gridster dragging hooks (onStart, onDrag, onStop).\r\n     */\r\n    private connectGridsterPrototype() {\r\n        this.gridsterPrototype.observeDropOut(this.gridster).subscribe();\r\n\r\n        const dropOverObservable = <ConnectableObservable<any>>this.gridsterPrototype.observeDropOver(this.gridster).pipe(publish());\r\n\r\n        const dragObservable = this.gridsterPrototype.observeDragOver(this.gridster);\r\n\r\n        dragObservable.dragOver.pipe(filter(() => !this.isDisabled)).subscribe((prototype: GridsterItemPrototypeDirective) => {\r\n            if (!this.isPrototypeEntered) {\r\n                return;\r\n            }\r\n            this.gridster.onDrag(prototype.item);\r\n        });\r\n\r\n        dragObservable.dragEnter.pipe(filter(() => !this.isDisabled)).subscribe((prototype: GridsterItemPrototypeDirective) => {\r\n            this.isPrototypeEntered = true;\r\n\r\n            if (this.gridster.items.indexOf(prototype.item) < 0) {\r\n                this.gridster.items.push(prototype.item);\r\n            }\r\n            this.gridster.onStart(prototype.item);\r\n            prototype.setDragContextGridster(this.gridster);\r\n\r\n            if (this.parent) {\r\n                this.parent.disable(prototype.item);\r\n            }\r\n            this.prototypeEnter.emit({item: prototype.item});\r\n        });\r\n\r\n        dragObservable.dragOut.pipe(filter(() => !this.isDisabled)).subscribe((prototype: GridsterItemPrototypeDirective) => {\r\n            if (!this.isPrototypeEntered) {\r\n                return;\r\n            }\r\n            this.gridster.onDragOut(prototype.item);\r\n            this.isPrototypeEntered = false;\r\n\r\n            this.prototypeOut.emit({item: prototype.item});\r\n\r\n            if (this.parent) {\r\n                this.parent.enable();\r\n\r\n                this.parent.isPrototypeEntered = true;\r\n                if (this.parent.gridster.items.indexOf(prototype.item) < 0) {\r\n                    this.parent.gridster.items.push(prototype.item);\r\n                }\r\n                this.parent.gridster.onStart(prototype.item);\r\n                prototype.setDragContextGridster(this.parent.gridster);\r\n                // timeout is needed to be sure that \"enter\" event is fired after \"out\"\r\n                setTimeout(() => {\r\n                    this.parent.prototypeEnter.emit({item: prototype.item});\r\n                    prototype.onEnter(this.parent.gridster);\r\n                });\r\n            }\r\n        });\r\n\r\n        dropOverObservable.pipe(filter(() => !this.isDisabled)).subscribe((data: any) => {\r\n            if (!this.isPrototypeEntered) {\r\n                return;\r\n            }\r\n\r\n            this.gridster.onStop(data.item.item);\r\n            this.gridster.removeItem(data.item.item);\r\n\r\n            this.isPrototypeEntered = false;\r\n            if (this.parent) {\r\n                this.parent.enable();\r\n            }\r\n            this.prototypeDrop.emit({item: data.item.item});\r\n        });\r\n\r\n        dropOverObservable.connect();\r\n    }\r\n\r\n    private enableDraggable() {\r\n        this.gridster.options.dragAndDrop = true;\r\n\r\n        this.gridster.items\r\n            .filter(item => item.itemComponent && item.itemComponent.dragAndDrop)\r\n            .forEach((item: GridListItem) => item.itemComponent.enableDragDrop());\r\n    }\r\n\r\n    private disableDraggable() {\r\n        this.gridster.options.dragAndDrop = false;\r\n\r\n        this.gridster.items\r\n            .filter(item => item.itemComponent)\r\n            .forEach((item: GridListItem) => item.itemComponent.disableDraggable());\r\n    }\r\n\r\n    private enableResizable() {\r\n        this.gridster.options.resizable = true;\r\n\r\n        this.gridster.items\r\n            .filter(item => item.itemComponent && item.itemComponent.resizable)\r\n            .forEach((item: GridListItem) => item.itemComponent.enableResizable());\r\n    }\r\n\r\n    private disableResizable() {\r\n        this.gridster.options.resizable = false;\r\n\r\n        this.gridster.items.forEach((item: GridListItem) => item.itemComponent.disableResizable());\r\n    }\r\n}\r\n"]}