{"version":3,"file":"gridster-item.component.js","sourceRoot":"","sources":["../../../../../../../projects/angular2gridster/src/lib/gridster-item/gridster-item.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, ElementRef, Inject, Input, Output,\r\n    EventEmitter, SimpleChanges, OnChanges, OnDestroy, HostBinding,\r\n    ChangeDetectionStrategy, AfterViewInit, NgZone, ViewEncapsulation, ViewChild } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { GridsterService } from '../gridster.service';\r\n\r\nimport { GridListItem } from '../gridList/GridListItem';\r\nimport {DraggableEvent} from '../utils/DraggableEvent';\r\nimport {Draggable} from '../utils/draggable';\r\nimport {IGridsterOptions} from '../IGridsterOptions';\r\nimport {GridList} from '../gridList/gridList';\r\nimport {utils} from '../utils/utils';\r\n\r\n@Component({\r\n    selector: 'ngx-gridster-item',\r\n    template: `<div class=\"gridster-item-inner\" [ngStyle]=\"{position: variableHeight ? 'relative' : ''}\">\r\n      <span #contentWrapper class=\"gridster-content-wrapper\">\r\n        <ng-content></ng-content>\r\n      </span>\r\n      <div class=\"gridster-item-resizable-handler handle-s\"></div>\r\n      <div class=\"gridster-item-resizable-handler handle-e\"></div>\r\n      <div class=\"gridster-item-resizable-handler handle-n\"></div>\r\n      <div class=\"gridster-item-resizable-handler handle-w\"></div>\r\n      <div class=\"gridster-item-resizable-handler handle-se\"></div>\r\n      <div class=\"gridster-item-resizable-handler handle-ne\"></div>\r\n      <div class=\"gridster-item-resizable-handler handle-sw\"></div>\r\n      <div class=\"gridster-item-resizable-handler handle-nw\"></div>\r\n    </div>`,\r\n    styles: [`\r\n    ngx-gridster-item {\r\n        display: block;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 1;\r\n        -webkit-transition: none;\r\n        transition: none;\r\n    }\r\n\r\n    .gridster--ready ngx-gridster-item {\r\n        transition: all 200ms ease;\r\n        transition-property: left, top;\r\n    }\r\n\r\n    .gridster--ready.css-transform ngx-gridster-item  {\r\n        transition-property: transform;\r\n    }\r\n\r\n    .gridster--ready ngx-gridster-item.is-dragging,\r\n    .gridster--ready ngx-gridster-item.is-resizing {\r\n        -webkit-transition: none;\r\n        transition: none;\r\n        z-index: 9999;\r\n    }\r\n\r\n    ngx-gridster-item.no-transition {\r\n        -webkit-transition: none;\r\n        transition: none;\r\n    }\r\n    ngx-gridster-item .gridster-item-resizable-handler {\r\n        position: absolute;\r\n        z-index: 2;\r\n        display: none;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-n {\r\n      cursor: n-resize;\r\n      height: 10px;\r\n      right: 0;\r\n      top: 0;\r\n      left: 0;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-e {\r\n      cursor: e-resize;\r\n      width: 10px;\r\n      bottom: 0;\r\n      right: 0;\r\n      top: 0;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-s {\r\n      cursor: s-resize;\r\n      height: 10px;\r\n      right: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-w {\r\n      cursor: w-resize;\r\n      width: 10px;\r\n      left: 0;\r\n      top: 0;\r\n      bottom: 0;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-ne {\r\n      cursor: ne-resize;\r\n      width: 10px;\r\n      height: 10px;\r\n      right: 0;\r\n      top: 0;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-nw {\r\n      cursor: nw-resize;\r\n      width: 10px;\r\n      height: 10px;\r\n      left: 0;\r\n      top: 0;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-se {\r\n      cursor: se-resize;\r\n      width: 0;\r\n      height: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      border-style: solid;\r\n      border-width: 0 0 10px 10px;\r\n      border-color: transparent;\r\n    }\r\n\r\n    ngx-gridster-item .gridster-item-resizable-handler.handle-sw {\r\n      cursor: sw-resize;\r\n      width: 10px;\r\n      height: 10px;\r\n      left: 0;\r\n      bottom: 0;\r\n    }\r\n\r\n    ngx-gridster-item:hover .gridster-item-resizable-handler.handle-se {\r\n      border-color: transparent transparent #ccc\r\n    }\r\n    `],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class GridsterItemComponent implements OnInit, OnChanges, AfterViewInit, OnDestroy {\r\n    @Input() x: number;\r\n    @Output() xChange = new EventEmitter<number>(true);\r\n    @Input() y: number;\r\n    @Output() yChange = new EventEmitter<number>(true);\r\n\r\n    @Input() xSm: number;\r\n    @Output() xSmChange = new EventEmitter<number>(true);\r\n    @Input() ySm: number;\r\n    @Output() ySmChange = new EventEmitter<number>(true);\r\n\r\n    @Input() xMd: number;\r\n    @Output() xMdChange = new EventEmitter<number>(true);\r\n    @Input() yMd: number;\r\n    @Output() yMdChange = new EventEmitter<number>(true);\r\n\r\n    @Input() xLg: number;\r\n    @Output() xLgChange = new EventEmitter<number>(true);\r\n    @Input() yLg: number;\r\n    @Output() yLgChange = new EventEmitter<number>(true);\r\n\r\n    @Input() xXl: number;\r\n    @Output() xXlChange = new EventEmitter<number>(true);\r\n    @Input() yXl: number;\r\n    @Output() yXlChange = new EventEmitter<number>(true);\r\n\r\n\r\n    @Input() w: number;\r\n    @Output() wChange = new EventEmitter<number>(true);\r\n    @Input() h: number;\r\n    @Output() hChange = new EventEmitter<number>(true);\r\n\r\n    @Input() wSm: number;\r\n    @Output() wSmChange = new EventEmitter<number>(true);\r\n    @Input() hSm: number;\r\n    @Output() hSmChange = new EventEmitter<number>(true);\r\n\r\n    @Input() wMd: number;\r\n    @Output() wMdChange = new EventEmitter<number>(true);\r\n    @Input() hMd: number;\r\n    @Output() hMdChange = new EventEmitter<number>(true);\r\n\r\n    @Input() wLg: number;\r\n    @Output() wLgChange = new EventEmitter<number>(true);\r\n    @Input() hLg: number;\r\n    @Output() hLgChange = new EventEmitter<number>(true);\r\n\r\n    @Input() wXl: number;\r\n    @Output() wXlChange = new EventEmitter<number>(true);\r\n    @Input() hXl: number;\r\n    @Output() hXlChange = new EventEmitter<number>(true);\r\n\r\n    @Output() change = new EventEmitter<any>(true);\r\n    @Output() start = new EventEmitter<any>(true);\r\n    @Output() end = new EventEmitter<any>(true);\r\n\r\n    @Input() dragAndDrop = true;\r\n    @Input() resizable = true;\r\n\r\n    @Input() options: any = {};\r\n\r\n    @Input() variableHeight = false;\r\n\r\n    @ViewChild('contentWrapper') contentWrapper: ElementRef;\r\n\r\n    autoSize: boolean;\r\n\r\n    @HostBinding('class.is-dragging') isDragging = false;\r\n    @HostBinding('class.is-resizing') isResizing = false;\r\n\r\n    $element: HTMLElement;\r\n    elementRef: ElementRef;\r\n    /**\r\n     * Gridster provider service\r\n     */\r\n    gridster: GridsterService;\r\n\r\n    item: GridListItem;\r\n\r\n    set positionX(value: number) {\r\n        this._positionX = value;\r\n    }\r\n    get positionX() {\r\n        return this._positionX;\r\n    }\r\n    set positionY(value: number) {\r\n        this._positionY = value;\r\n    }\r\n    get positionY() {\r\n        return this._positionY;\r\n    }\r\n    private _positionX: number;\r\n    private _positionY: number;\r\n\r\n    private defaultOptions: any = {\r\n        minWidth: 1,\r\n        minHeight: 1,\r\n        maxWidth: Infinity,\r\n        maxHeight: Infinity,\r\n        defaultWidth: 1,\r\n        defaultHeight: 1\r\n    };\r\n    private subscriptions: Array<Subscription> = [];\r\n    private dragSubscriptions: Array<Subscription> = [];\r\n    private resizeSubscriptions: Array<Subscription> = [];\r\n\r\n    constructor(private zone: NgZone,\r\n                @Inject(ElementRef) elementRef: ElementRef,\r\n                @Inject(GridsterService) gridster: GridsterService) {\r\n\r\n        this.gridster = gridster;\r\n        this.elementRef = elementRef;\r\n        this.$element = elementRef.nativeElement;\r\n\r\n        this.item = (new GridListItem()).setFromGridsterItem(this);\r\n\r\n        // if gridster is initialized do not show animation on new grid-item construct\r\n        if (this.gridster.isInitialized()) {\r\n            this.preventAnimation();\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.options = Object.assign(this.defaultOptions, this.options);\r\n\r\n        this.w = this.w || this.options.defaultWidth;\r\n        this.h = this.h || this.options.defaultHeight;\r\n        this.wSm = this.wSm || this.w;\r\n        this.hSm = this.hSm || this.h;\r\n        this.wMd = this.wMd || this.w;\r\n        this.hMd = this.hMd || this.h;\r\n        this.wLg = this.wLg || this.w;\r\n        this.hLg = this.hLg || this.h;\r\n        this.wXl = this.wXl || this.w;\r\n        this.hXl = this.hXl || this.h;\r\n\r\n        if (this.gridster.isInitialized()) {\r\n            this.setPositionsOnItem();\r\n        }\r\n\r\n        this.gridster.registerItem(this.item);\r\n\r\n        this.gridster.calculateCellSize();\r\n        this.item.applySize();\r\n        this.item.applyPosition();\r\n\r\n        if (this.gridster.options.dragAndDrop && this.dragAndDrop) {\r\n            this.enableDragDrop();\r\n        }\r\n\r\n        if (this.gridster.isInitialized()) {\r\n            this.gridster.render();\r\n            this.gridster.updateCachedItems();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        if (this.gridster.options.resizable && this.item.resizable) {\r\n            this.enableResizable();\r\n        }\r\n\r\n        if (this.variableHeight) {\r\n            const readySubscription = this.gridster.gridsterComponent.ready.subscribe(() => {\r\n                this.gridster.gridList.resizeItem(this.item, { w: this.w, h: 1 });\r\n                readySubscription.unsubscribe();\r\n            });\r\n            let lastOffsetHeight: number;\r\n            const observer = new MutationObserver((mutations) => {\r\n                const offsetHeight = this.item.contentHeight;\r\n                if (offsetHeight !== lastOffsetHeight) {\r\n                    for (const item of this.gridster.items) {\r\n                        item.applySize();\r\n                        item.applyPosition();\r\n                    }\r\n                }\r\n                lastOffsetHeight = offsetHeight;\r\n            });\r\n            observer.observe(this.contentWrapper.nativeElement, {\r\n                childList: true,\r\n                subtree: true,\r\n                attributes: true,\r\n                characterData: true\r\n            });\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (!this.gridster.gridList) {\r\n            return;\r\n        }\r\n        let rerender = false;\r\n\r\n        ['w', ...Object.keys(GridListItem.W_PROPERTY_MAP).map(breakpoint => GridListItem.W_PROPERTY_MAP[breakpoint])]\r\n        .filter(propName => changes[propName] && !changes[propName].isFirstChange())\r\n        .forEach((propName: keyof GridsterItemComponent) => {\r\n            if (changes[propName].currentValue > this.options.maxWidth) {\r\n                this[propName] = this.options.maxWidth;\r\n                setTimeout(() => this[<keyof GridsterItemComponent>(propName + 'Change')].emit(this[propName]));\r\n            }\r\n            rerender = true;\r\n        });\r\n\r\n        ['h', ...Object.keys(GridListItem.H_PROPERTY_MAP).map(breakpoint => GridListItem.H_PROPERTY_MAP[breakpoint])]\r\n            .filter(propName => changes[propName] && !changes[propName].isFirstChange())\r\n            .forEach((propName: keyof GridsterItemComponent) => {\r\n                if (changes[propName].currentValue > this.options.maxHeight) {\r\n                    this[propName] = this.options.maxHeight;\r\n                    setTimeout(() => this[<keyof GridsterItemComponent>(propName + 'Change')].emit(this[propName]));\r\n                }\r\n                rerender = true;\r\n            });\r\n\r\n        ['x', 'y',\r\n        ...Object.keys(GridListItem.X_PROPERTY_MAP).map(breakpoint => GridListItem.X_PROPERTY_MAP[breakpoint]),\r\n        ...Object.keys(GridListItem.Y_PROPERTY_MAP).map(breakpoint => GridListItem.Y_PROPERTY_MAP[breakpoint])]\r\n            .filter(propName => changes[propName] && !changes[propName].isFirstChange())\r\n            .forEach((propName: string) => rerender = true);\r\n\r\n        if (changes['dragAndDrop'] && !changes['dragAndDrop'].isFirstChange()) {\r\n            if (changes['dragAndDrop'].currentValue && this.gridster.options.dragAndDrop) {\r\n                this.enableDragDrop();\r\n            } else {\r\n                this.disableDraggable();\r\n            }\r\n        }\r\n        if (changes['resizable'] && !changes['resizable'].isFirstChange()) {\r\n            if (changes['resizable'].currentValue && this.gridster.options.resizable) {\r\n                this.enableResizable();\r\n            } else {\r\n                this.disableResizable();\r\n            }\r\n        }\r\n\r\n        if (rerender && this.gridster.gridsterComponent.isReady) {\r\n            this.gridster.debounceRenderSubject.next();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.gridster.removeItem(this.item);\r\n        this.gridster.itemRemoveSubject.next(this.item);\r\n\r\n        this.subscriptions.forEach((sub: Subscription) => {\r\n            sub.unsubscribe();\r\n        });\r\n        this.disableDraggable();\r\n        this.disableResizable();\r\n    }\r\n\r\n    updateElemenetPosition() {\r\n        if (this.gridster.options.useCSSTransforms) {\r\n            utils.setTransform(this.$element, {x: this._positionX, y: this._positionY});\r\n        } else {\r\n            utils.setCssElementPosition(this.$element, {x: this._positionX, y: this._positionY});\r\n        }\r\n    }\r\n\r\n    setPositionsOnItem() {\r\n        if (!this.item.hasPositions(this.gridster.options.breakpoint)) {\r\n            this.setPositionsForGrid(this.gridster.options);\r\n        }\r\n\r\n        this.gridster.gridsterOptions.responsiveOptions\r\n            .filter((options: IGridsterOptions) => !this.item.hasPositions(options.breakpoint))\r\n            .forEach((options: IGridsterOptions) => this.setPositionsForGrid(options));\r\n    }\r\n\r\n    public enableResizable() {\r\n        if (this.resizeSubscriptions.length) {\r\n            return;\r\n        }\r\n\r\n        this.zone.runOutsideAngular(() => {\r\n            this.getResizeHandlers().forEach((handler) => {\r\n                const direction = this.getResizeDirection(handler);\r\n\r\n                if (this.hasResizableHandle(direction)) {\r\n                    handler.style.display = 'block';\r\n                }\r\n\r\n                const draggable = new Draggable(handler, this.getResizableOptions());\r\n\r\n                let startEvent: DraggableEvent;\r\n                let startData: {\r\n                    top: number,\r\n                    left: number,\r\n                    height: number,\r\n                    width: number,\r\n                    minX: number,\r\n                    maxX: number,\r\n                    minY: number,\r\n                    maxY: number,\r\n                    minW: number,\r\n                    maxW: number,\r\n                    minH: number,\r\n                    maxH: number,\r\n                    scrollLeft: number,\r\n                    scrollTop: number\r\n                };\r\n                let cursorToElementPosition: { x: number, y: number };\r\n\r\n                const dragStartSub = draggable.dragStart\r\n                    .subscribe((event: DraggableEvent) => {\r\n                        this.zone.run(() => {\r\n                            this.isResizing = true;\r\n\r\n                            startEvent = event;\r\n                            startData = this.createResizeStartObject(direction);\r\n                            cursorToElementPosition = event.getRelativeCoordinates(this.$element);\r\n\r\n                            this.gridster.onResizeStart(this.item);\r\n                            this.onStart('resize');\r\n                        });\r\n                    });\r\n\r\n                const dragSub = draggable.dragMove\r\n                    .subscribe((event: DraggableEvent) => {\r\n                        const scrollData = this.gridster.gridsterScrollData;\r\n\r\n                        this.resizeElement({\r\n                            direction,\r\n                            startData,\r\n                            position: {\r\n                                x: event.clientX - cursorToElementPosition.x - this.gridster.gridsterRect.left,\r\n                                y: event.clientY - cursorToElementPosition.y - this.gridster.gridsterRect.top\r\n                            },\r\n                            startEvent,\r\n                            moveEvent: event,\r\n                            scrollDiffX: scrollData.scrollLeft - startData.scrollLeft,\r\n                            scrollDiffY: scrollData.scrollTop - startData.scrollTop\r\n                        });\r\n\r\n                        this.gridster.onResizeDrag(this.item);\r\n                    });\r\n\r\n                const dragStopSub = draggable.dragStop\r\n                    .subscribe(() => {\r\n                        this.zone.run(() => {\r\n                            this.isResizing = false;\r\n\r\n                            this.gridster.onResizeStop(this.item);\r\n                            this.onEnd('resize');\r\n                        });\r\n                    });\r\n\r\n                this.resizeSubscriptions = this.resizeSubscriptions.concat([dragStartSub, dragSub, dragStopSub]);\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    public disableResizable() {\r\n        this.resizeSubscriptions.forEach((sub: Subscription) => {\r\n            sub.unsubscribe();\r\n        });\r\n        this.resizeSubscriptions = [];\r\n\r\n        [].forEach.call(this.$element.querySelectorAll('.gridster-item-resizable-handler'), (handler: HTMLElement) => {\r\n            handler.style.display = '';\r\n        });\r\n    }\r\n\r\n    public enableDragDrop() {\r\n        if (this.dragSubscriptions.length) {\r\n            return;\r\n        }\r\n        this.zone.runOutsideAngular(() => {\r\n            let cursorToElementPosition: { x: number, y: number };\r\n\r\n            const draggable = new Draggable(this.$element, this.getDraggableOptions());\r\n\r\n            const dragStartSub = draggable.dragStart\r\n                .subscribe((event: DraggableEvent) => {\r\n                    this.zone.run(() => {\r\n                        this.gridster.onStart(this.item);\r\n                        this.isDragging = true;\r\n                        this.onStart('drag');\r\n\r\n                        cursorToElementPosition = event.getRelativeCoordinates(this.$element);\r\n                    });\r\n                });\r\n\r\n            const dragSub = draggable.dragMove\r\n                .subscribe((event: DraggableEvent) => {\r\n\r\n                    this.positionY = (event.clientY - cursorToElementPosition.y -\r\n                        this.gridster.gridsterRect.top);\r\n                    this.positionX = (event.clientX - cursorToElementPosition.x -\r\n                        this.gridster.gridsterRect.left);\r\n                    this.updateElemenetPosition();\r\n\r\n                    this.gridster.onDrag(this.item);\r\n                });\r\n\r\n            const dragStopSub = draggable.dragStop\r\n                .subscribe(() => {\r\n                    this.zone.run(() => {\r\n                        this.gridster.onStop(this.item);\r\n                        this.gridster.debounceRenderSubject.next();\r\n                        this.isDragging = false;\r\n                        this.onEnd('drag');\r\n                    });\r\n                });\r\n\r\n            this.dragSubscriptions = this.dragSubscriptions.concat([dragStartSub, dragSub, dragStopSub]);\r\n        });\r\n    }\r\n\r\n    public disableDraggable() {\r\n        this.dragSubscriptions.forEach((sub: Subscription) => {\r\n            sub.unsubscribe();\r\n        });\r\n        this.dragSubscriptions = [];\r\n    }\r\n\r\n    private getResizeHandlers(): HTMLElement[]  {\r\n        return [].filter.call(this.$element.children[0].children, (el: HTMLElement) => {\r\n\r\n            return el.classList.contains('gridster-item-resizable-handler');\r\n        });\r\n    }\r\n\r\n    private getDraggableOptions() {\r\n        return { scrollDirection: this.gridster.options.direction, ...this.gridster.draggableOptions };\r\n    }\r\n\r\n    private getResizableOptions() {\r\n        const resizableOptions: any = {};\r\n\r\n        if (this.gridster.draggableOptions.scroll || this.gridster.draggableOptions.scroll === false) {\r\n            resizableOptions.scroll = this.gridster.draggableOptions.scroll;\r\n        }\r\n        if (this.gridster.draggableOptions.scrollEdge) {\r\n            resizableOptions.scrollEdge = this.gridster.draggableOptions.scrollEdge;\r\n        }\r\n\r\n        resizableOptions.scrollDirection = this.gridster.options.direction;\r\n\r\n        return resizableOptions;\r\n    }\r\n\r\n    private hasResizableHandle(direction: string): boolean {\r\n        const isItemResizable = this.gridster.options.resizable && this.item.resizable;\r\n        const resizeHandles = this.gridster.options.resizeHandles;\r\n\r\n        return isItemResizable && (!resizeHandles || (resizeHandles && !!(<any>resizeHandles)[direction]));\r\n    }\r\n\r\n    private setPositionsForGrid(options: IGridsterOptions) {\r\n        let x, y;\r\n\r\n        const position = this.findPosition(options);\r\n        x = options.direction === 'horizontal' ? position[0] : position[1];\r\n        y = options.direction === 'horizontal' ? position[1] : position[0];\r\n\r\n        this.item.setValueX(x, options.breakpoint);\r\n        this.item.setValueY(y, options.breakpoint);\r\n\r\n        setTimeout(() => {\r\n            this.item.triggerChangeX(options.breakpoint);\r\n            this.item.triggerChangeY(options.breakpoint);\r\n        });\r\n    }\r\n\r\n    private findPosition(options: IGridsterOptions): Array<number> {\r\n        const gridList = new GridList(\r\n            this.gridster.items.map(item => item.copyForBreakpoint(options.breakpoint)),\r\n            options\r\n        );\r\n\r\n        return gridList.findPositionForItem(this.item, {x: 0, y: 0});\r\n    }\r\n\r\n    private createResizeStartObject(direction: string) {\r\n        const scrollData = this.gridster.gridsterScrollData;\r\n\r\n        return {\r\n            top: this.positionY,\r\n            left: this.positionX,\r\n            height: parseInt(this.$element.style.height, 10),\r\n            width: parseInt(this.$element.style.width, 10),\r\n            minX: Math.max(this.item.x + this.item.w - this.options.maxWidth, 0),\r\n            maxX: this.item.x + this.item.w - this.options.minWidth,\r\n            minY: Math.max(this.item.y + this.item.h - this.options.maxHeight, 0),\r\n            maxY: this.item.y + this.item.h - this.options.minHeight,\r\n            minW: this.options.minWidth,\r\n            maxW: Math.min(\r\n                this.options.maxWidth,\r\n                (this.gridster.options.direction === 'vertical' && direction.indexOf('w') < 0) ?\r\n                this.gridster.options.lanes - this.item.x : this.options.maxWidth,\r\n                direction.indexOf('w') >= 0 ?\r\n                this.item.x + this.item.w : this.options.maxWidth\r\n            ),\r\n            minH: this.options.minHeight,\r\n            maxH: Math.min(\r\n                this.options.maxHeight,\r\n                (this.gridster.options.direction === 'horizontal' && direction.indexOf('n') < 0) ?\r\n                this.gridster.options.lanes - this.item.y : this.options.maxHeight,\r\n                direction.indexOf('n') >= 0 ?\r\n                this.item.y + this.item.h : this.options.maxHeight\r\n            ),\r\n            scrollLeft: scrollData.scrollLeft,\r\n            scrollTop: scrollData.scrollTop\r\n        };\r\n    }\r\n\r\n    private onEnd(actionType: string): void {\r\n        this.end.emit({action: actionType, item: this.item});\r\n    }\r\n\r\n    private onStart(actionType: string): void {\r\n        this.start.emit({action: actionType, item: this.item});\r\n    }\r\n\r\n    /**\r\n     * Assign class for short while to prevent animation of grid item component\r\n     */\r\n    private preventAnimation(): GridsterItemComponent {\r\n        this.$element.classList.add('no-transition');\r\n        setTimeout(() => {\r\n            this.$element.classList.remove('no-transition');\r\n        }, 500);\r\n\r\n        return this;\r\n    }\r\n\r\n    private getResizeDirection(handler: Element): string {\r\n        for (let i = handler.classList.length - 1; i >= 0; i--) {\r\n            if (handler.classList[i].match('handle-')) {\r\n                return handler.classList[i].split('-')[1];\r\n            }\r\n        }\r\n    }\r\n\r\n    private resizeElement(config: any): void {\r\n        // north\r\n        if (config.direction.indexOf('n') >= 0) {\r\n            this.resizeToNorth(config);\r\n        }\r\n        // west\r\n        if (config.direction.indexOf('w') >= 0) {\r\n            this.resizeToWest(config);\r\n        }\r\n        // east\r\n        if (config.direction.indexOf('e') >= 0) {\r\n            this.resizeToEast(config);\r\n        }\r\n        // south\r\n        if (config.direction.indexOf('s') >= 0) {\r\n            this.resizeToSouth(config);\r\n        }\r\n    }\r\n\r\n    private resizeToNorth(config: any): void {\r\n        const height = config.startData.height + config.startEvent.clientY -\r\n            config.moveEvent.clientY - config.scrollDiffY;\r\n\r\n        if (height < (config.startData.minH * this.gridster.cellHeight)) {\r\n            this.setMinHeight('n', config);\r\n        } else if (height > (config.startData.maxH * this.gridster.cellHeight)) {\r\n            this.setMaxHeight('n', config);\r\n        } else {\r\n            this.positionY = config.position.y;\r\n            this.$element.style.height = height + 'px';\r\n        }\r\n    }\r\n\r\n    private resizeToWest(config: any): void {\r\n        const width = config.startData.width + config.startEvent.clientX -\r\n            config.moveEvent.clientX - config.scrollDiffX;\r\n\r\n        if (width < (config.startData.minW * this.gridster.cellWidth)) {\r\n            this.setMinWidth('w', config);\r\n        } else if (width > (config.startData.maxW * this.gridster.cellWidth)) {\r\n            this.setMaxWidth('w', config);\r\n        } else {\r\n            this.positionX = config.position.x;\r\n            this.updateElemenetPosition();\r\n            this.$element.style.width = width + 'px';\r\n        }\r\n    }\r\n\r\n    private resizeToEast(config: any): void {\r\n        const width = config.startData.width + config.moveEvent.clientX -\r\n            config.startEvent.clientX + config.scrollDiffX;\r\n\r\n        if (width > (config.startData.maxW * this.gridster.cellWidth)) {\r\n            this.setMaxWidth('e', config);\r\n        } else if (width < (config.startData.minW * this.gridster.cellWidth)) {\r\n            this.setMinWidth('e', config);\r\n        } else {\r\n            this.$element.style.width = width + 'px';\r\n        }\r\n    }\r\n\r\n    private resizeToSouth(config: any): void {\r\n        const height = config.startData.height + config.moveEvent.clientY -\r\n            config.startEvent.clientY + config.scrollDiffY;\r\n\r\n        if (height > config.startData.maxH * this.gridster.cellHeight) {\r\n            this.setMaxHeight('s', config);\r\n        } else if (height < config.startData.minH * this.gridster.cellHeight) {\r\n            this.setMinHeight('s', config);\r\n        } else {\r\n            this.$element.style.height = height + 'px';\r\n        }\r\n    }\r\n\r\n    private setMinHeight(direction: string, config: any): void {\r\n        if (direction === 'n') {\r\n            this.$element.style.height = (config.startData.minH * this.gridster.cellHeight) + 'px';\r\n            this.positionY = config.startData.maxY * this.gridster.cellHeight;\r\n        } else {\r\n            this.$element.style.height = (config.startData.minH * this.gridster.cellHeight) + 'px';\r\n        }\r\n    }\r\n\r\n    private setMinWidth(direction: string, config: any): void {\r\n        if (direction === 'w') {\r\n            this.$element.style.width = (config.startData.minW * this.gridster.cellWidth) + 'px';\r\n            this.positionX = config.startData.maxX * this.gridster.cellWidth;\r\n            this.updateElemenetPosition();\r\n        } else {\r\n            this.$element.style.width = (config.startData.minW * this.gridster.cellWidth) + 'px';\r\n        }\r\n    }\r\n\r\n    private setMaxHeight(direction: string, config: any): void {\r\n\r\n        if (direction === 'n') {\r\n            this.$element.style.height = (config.startData.maxH * this.gridster.cellHeight) + 'px';\r\n            this.positionY = config.startData.minY * this.gridster.cellHeight;\r\n        } else {\r\n            this.$element.style.height = (config.startData.maxH * this.gridster.cellHeight) + 'px';\r\n        }\r\n    }\r\n\r\n    private setMaxWidth(direction: string, config: any): void {\r\n\r\n        if (direction === 'w') {\r\n            this.$element.style.width = (config.startData.maxW * this.gridster.cellWidth) + 'px';\r\n            this.positionX = config.startData.minX * this.gridster.cellWidth;\r\n            this.updateElemenetPosition();\r\n        } else {\r\n            this.$element.style.width = (config.startData.maxW * this.gridster.cellWidth) + 'px';\r\n        }\r\n    }\r\n}\r\n"]}